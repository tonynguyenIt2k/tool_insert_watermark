<!doctype html>
<html lang="vi" data-theme="auto">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <link rel="icon" href="./assets/icon.png" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
  <title>Batch 1:1 + Blur BG + Watermark + Logo</title>

  <!-- ===== NO-FLICKER THEME + LANG (MUST BE BEFORE CSS) ===== -->
  <script>
    (function () {
      try {
        const savedTheme = localStorage.getItem("theme") || "auto";
        document.documentElement.setAttribute("data-theme", savedTheme);

        const savedLang = localStorage.getItem("lang") || "vi";
        document.documentElement.setAttribute("lang", savedLang);

        document.documentElement.classList.add("preload");
        window.addEventListener("load", () => {
          setTimeout(() => document.documentElement.classList.remove("preload"), 30);
        });
      } catch (e) { }
    })();
  </script>

  <!-- 100% Material Icons -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,650,0,0" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Montserrat:wght@300;400;500&family=Outfit:wght@300;400;500&family=Plus+Jakarta+Sans:wght@300;400;500&display=swap" />
  <!-- Main CSS -->
  <link rel="stylesheet" href="./assets/css/style.css" />
</head>

<body>
  <div class="app">
    <div class="topbar">
      <div class="topbar-inner">
        <div class="brand">
          <div class="mark"><span class="ms">photo_auto_merge</span></div>
          <div>
            <h1 data-i18n="title">Batch Ảnh 1:1 • Blur nền • Watermark • Logo + Glass Plate</h1>
            <div class="sub" data-i18n="subtitle">
              <span class="ms xs">upload</span><span>Preview ảnh gốc</span>
              <span class="ms xs">arrow_forward</span><span>Xử lý</span>
              <span class="ms xs">arrow_forward</span><span>Preview kết quả</span>
              <span class="ms xs">download</span><span>Tải 1 hoặc tải nhiều bằng tick</span>
            </div>
          </div>
        </div>

        <div class="topActions">
          <button class="btn mini" id="btnTheme" type="button" title="Theme">
            <span class="ms" id="themeIcon">brightness_auto</span>
            <span data-i18n="theme">Giao diện</span>
          </button>

          <button class="btn mini" id="btnLang" type="button" title="Language">
            <span class="ms">translate</span>
            <span id="langLabel">VI</span>
          </button>
        </div>
      </div>
    </div>

    <div class="grid">
      <!-- Upload + Input Preview -->
      <div class="card">
        <div class="cardHead">
          <div>
            <h2><span class="ms">cloud_upload</span> <span data-i18n="input_title">Ảnh gốc (Preview bên trên)</span>
            </h2>
            <div class="desc" data-i18n="input_desc">
              Chọn nhiều lần để cộng dồn ảnh. Nếu chọn thư mục → chỉ hiện icon thư mục + tên + số lượng ảnh.
              <br><b>Mặc định:</b> logo + watermark sẽ lấy từ <code>./assets/logo/logo.png</code> và
              <code>./assets/watermark/watermark.png</code>
              (có thể chọn lại trong Cài đặt để override).
            </div>
          </div>
        </div>

        <div class="cardBody" id="uploadCard">
          <div class="drop" id="dropzone">
            <p class="t"><span class="ms">upload</span> <span data-i18n="drop_title">Kéo thả ảnh vào đây</span></p>
            <p class="d"><span class="ms xs">info</span><span data-i18n="drop_desc">Chrome/Edge hỗ trợ chọn thư mục
                (webkitdirectory).</span></p>

            <div class="row" style="margin-top:10px">
              <div>
                <label data-i18n="pick_files">Chọn nhiều ảnh (cộng dồn)</label>
                <input id="inPhotos" class="field" type="file" accept="image/*" multiple />
              </div>

              <!-- PROFESSIONAL FOLDER PICKER: button + modal confirmation -->
              <div>
                <label data-i18n="pick_folder">Chọn thư mục ảnh (Chrome/Edge)</label>

                <button class="btn" id="btnPickFolder" type="button" style="width:100%; justify-content:center;">
                  <span class="ms">folder_open</span>
                  <span data-i18n="pick_folder_btn">Chọn thư mục…</span>
                </button>

                <!-- hidden input that actually opens folder picker -->
                <input id="inFolder" class="srOnly" type="file" accept="image/*" multiple webkitdirectory directory />
              </div>
            </div>

            <div class="hint">
              <span class="ms sm">tips_and_updates</span>
              <div data-i18n="hint_remove">Nút <span class="ms xs">close</span> chỉ hiện khi ở chế độ ảnh lẻ (preview
                thumbnails).</div>
            </div>
          </div>

          <div style="height:12px"></div>

          <div class="preTop">
            <div style="display:flex; gap:10px; flex-wrap:wrap;">
              <span class="badge"><span class="ms sm">photo_library</span> <span data-i18n="count">Ảnh</span>: <b
                  id="kpiCountIn">0</b></span>
              <span class="badge"><span class="ms sm">folder_open</span> <span data-i18n="mode">Chế độ</span>: <b
                  id="kpiModeIn">—</b></span>
            </div>
          </div>

          <div class="folderSummary" id="folderSummary">
            <div class="folderIcon"><span class="ms">folder</span></div>
            <div>
              <div class="folderTitle" id="folderName">—</div>
              <div class="folderMeta" id="folderCount">0 ảnh</div>
            </div>
          </div>

          <div class="thumbs" id="thumbsIn"></div>
        </div>
      </div>


      <!-- Settings (Moved from Modal to Main Page) -->
      <div class="card">
        <div class="cardHead">
          <div>
            <h2><span class="ms">tune</span> <span data-i18n="settings">Cài đặt</span></h2>
            <div class="desc" data-i18n="settings_desc">Tuỳ chỉnh thông số, giao diện và ngôn ngữ.</div>
          </div>
          <!-- Live Preview Button -->
          <button class="btn mini primary" id="btnLivePreview" title="Xem trước ảnh đầu tiên">
            <span class="ms">visibility</span>
            <span>Xem thử</span>
          </button>
        </div>
        <div class="cardBody">



          <div class="section" style="margin-bottom:12px;">
            <div
              style="padding:12px 12px; border-bottom:1px solid var(--line); font-weight:900; display:flex; gap:10px; align-items:center;">
              <span class="ms">bolt</span> <span data-i18n="preset">Preset nhanh</span>
            </div>
            <div style="padding:12px;">
              <div class="seg">
                <button class="chip" type="button" id="preset1080"><span class="ms sm">auto_awesome</span> 1080 • Blur
                  45</button>
                <button class="chip" type="button" id="preset2000"><span class="ms sm">high_quality</span> 2000 • Blur
                  45</button>
                <button class="chip" type="button" id="preset1350"><span class="ms sm">crop_square</span> 1350 • Blur
                  55</button>
                <button class="chip" type="button" id="presetSoft"><span class="ms sm">blur_on</span> <span
                    data-i18n="blur_soft">Blur mềm</span></button>
                <button class="chip" type="button" id="presetStrong"><span class="ms sm">blur_circular</span> <span
                    data-i18n="blur_strong">Blur mạnh</span></button>
              </div>
            </div>
          </div>

          <details class="section">
            <summary>
              <div class="sumLeft"><span class="ms">image</span> <span data-i18n="wm_logo">Watermark & Logo</span></div>
              <span class="ms chev">expand_more</span>
            </summary>
            <div class="content">
              <!-- Toggle Watermark & Logo -->
              <div class="row" style="margin-top:10px">
                <div class="toggleRow">
                  <label class="switch">
                    <input type="checkbox" id="enableWatermark" />
                    <span class="switchTrack"><span class="switchThumb"></span></span>
                  </label>
                  <span style="margin-left:8px"><span class="ms sm">water_drop</span> <span data-i18n="enable_wm">Chèn
                      Watermark
                      (Ảnh)</span></span>
                </div>
                <div class="toggleRow">
                  <label class="switch">
                    <input type="checkbox" id="enableLogo" checked />
                    <span class="switchTrack"><span class="switchThumb"></span></span>
                  </label>
                  <span style="margin-left:8px"><span class="ms sm">add_photo_alternate</span> <span
                      data-i18n="enable_logo">Chèn
                      Logo</span></span>
                </div>
              </div>

              <!-- NEW: Text Watermark Toggle -->
              <div class="row" style="margin-top:10px">
                <div class="toggleRow">
                  <label class="switch">
                    <input type="checkbox" id="enableTextWM" />
                    <span class="switchTrack"><span class="switchThumb"></span></span>
                  </label>
                  <span style="margin-left:8px"><span class="ms sm">text_fields</span> <span
                      data-i18n="enable_text_wm">Chèn Watermark
                      (Chữ)</span></span>
                </div>
              </div>

              <!-- Text Watermark Settings -->
              <div id="textWmSettings"
                style="display:none; border:1px solid var(--line); padding:10px; border-radius:12px; margin-top:10px; background:rgba(0,0,0,0.1);">
                <div class="row">
                  <div>
                    <label>Nội dung chữ</label>
                    <input id="wmText" class="field" type="text" placeholder="Nhập số điện thoại..." value="0396297856">
                  </div>
                  <div>
                    <label>Phông chữ</label>
                    <select id="wmTextFont" class="field">
                      <option value="Inter" selected>Inter</option>
                      <option value="Montserrat">Montserrat</option>
                      <option value="Outfit">Outfit</option>
                      <option value="Plus Jakarta Sans">Plus Jakarta Sans</option>
                    </select>
                  </div>
                </div>
                <div class="row" style="margin-top:10px">
                  <div>
                    <label>Cỡ chữ (px)</label>
                    <input id="wmTextSize" class="field" type="number" value="60" step="1">
                  </div>
                  <div>
                    <label>Độ đậm</label>
                    <select id="wmTextWeight" class="field">
                      <option value="300" selected>Light (300)</option>
                      <option value="400">Regular (400)</option>
                      <option value="500">Medium (500)</option>
                    </select>
                  </div>
                </div>
                <div class="row" style="margin-top:10px">
                  <div>
                    <label>Độ mờ (%)</label>
                    <input id="wmTextOpacity" class="field" type="number" value="30" min="0" max="100">
                  </div>
                  <div>
                    <label>Máu chữ</label>
                    <select id="wmTextColor" class="field">
                      <option value="black" selected>Đen</option>
                      <option value="white">Trắng</option>
                      <option value="red">Đỏ</option>
                      <option value="blue">Xanh</option>
                    </select>
                  </div>
                  <div>
                    <label>Số dòng lặp</label>
                    <input id="wmTextRepeats" class="field" type="number" value="3" min="1" max="10">
                  </div>
                </div>
              </div>


              <div class="row" style="margin-top:10px">
                <div>
                  <label data-i18n="wm_file">Watermark PNG overlay (mặc định: ./assets/watermark/watermark.png)</label>
                  <input id="inWM" class="field" type="file" accept="image/png" />
                </div>
                <div>
                  <label data-i18n="logo_file">Logo PNG (mặc định: ./assets/logo/logo.png)</label>
                  <input id="inLogo" class="field" type="file" accept="image/png" />
                </div>
              </div>
              <div class="row" style="margin-top:10px">
                <div>
                  <label>WM_OPACITY (%)</label>
                  <input id="WM_OPACITY" class="field" type="number" value="100" min="0" max="100" step="1">
                </div>
                <div>
                  <label>WM_POSITION</label>
                  <select id="WM_POSITION" class="field">
                    <option value="full">Full (phủ toàn bộ)</option>
                    <option value="TL">Trên trái</option>
                    <option value="TR">Trên phải</option>
                    <option value="BL">Dưới trái</option>
                    <option value="BR">Dưới phải</option>
                    <option value="center">Giữa</option>
                    <option value="custom" selected>Tuỳ chỉnh (kéo thả)</option>
                  </select>
                </div>
              </div>
              <div class="row" style="margin-top:10px">
                <div>
                  <label>WM_TARGET_W (px)</label>
                  <input id="WM_TARGET_W" class="field" type="number" value="300" min="40" step="1">
                </div>
                <div>
                  <label>LOGO_TARGET_W</label>
                  <input id="LOGO_TARGET_W" class="field" type="number" value="424" min="40" step="1">
                </div>
              </div>
              <div class="row" style="margin-top:10px">
                <div>
                  <label>LOGO_MARGIN</label>
                  <input id="LOGO_MARGIN" class="field" type="number" value="28" min="0" step="1">
                </div>
                <!-- NEW: Logo Position -->
                <div>
                  <label>Vị trí Logo</label>
                  <select id="LOGO_POSITION" class="field">
                    <option value="TL">Góc Trái Trên</option>
                    <option value="TR">Góc Phải Trên</option>
                    <option value="BL">Góc Trái Dưới</option>
                    <option value="BR">Góc Phải Dưới</option>
                    <option value="center">Chính Giữa</option>
                    <option value="custom" selected>Tuỳ chỉnh</option>
                  </select>
                </div>
                <div>
                  <label>OUT_SIZE</label>
                  <input id="OUT_SIZE" class="field" type="number" value="2000" min="256" step="1">
                </div>
              </div>
              <!-- Hidden inputs for custom logo position -->
              <input type="hidden" id="LOGO_X" value="0">
              <input type="hidden" id="LOGO_Y" value="0">
              <input type="hidden" id="WM_X" value="0">
              <input type="hidden" id="WM_Y" value="0">
              <div class="hint">
                <span class="ms sm">tips_and_updates</span>
                <div data-i18n="wm_scale_hint">Watermark đã tự scale theo OUT_SIZE (không còn phụ thuộc 1080×1080).
                </div>
              </div>
            </div>
          </details>

          <details class="section">
            <summary>
              <div class="sumLeft"><span class="ms">photo_size_select_large</span> Output</div>
              <span class="ms chev">expand_more</span>
            </summary>
            <div class="content">
              <div class="row" style="margin-top:10px">
                <div>
                  <label data-i18n="out_format">Định dạng xuất</label>
                  <select id="OUT_FORMAT" class="field">
                    <option value="jpg">JPG</option>
                    <option value="png" selected>PNG</option>
                  </select>
                </div>
                <div>
                  <label data-i18n="jpg_quality">JPG_QUALITY (1–12) — chỉ dùng khi JPG</label>
                  <input id="JPG_QUALITY" class="field" type="number" value="10" min="1" max="12" step="1">
                </div>
              </div>
              <div class="row" style="margin-top:10px">
                <div>
                  <label data-i18n="zip_name">Tên ZIP (tải tất cả)</label>
                  <input id="zipName" class="field" type="text" value="output_2000_logo_wm.zip" />
                </div>
                <div class="hint" style="margin:0;">
                  <span class="ms sm">verified_user</span>
                  <div data-i18n="format_hint">PNG nét hơn, JPG nhẹ hơn.</div>
                </div>
              </div>
            </div>
          </details>

          <details class="section">
            <summary>
              <div class="sumLeft"><span class="ms">blur_on</span> <span data-i18n="blur_bg">Blur nền</span></div>
              <span class="ms chev">expand_more</span>
            </summary>
            <div class="content">
              <div class="row" style="margin-top:10px">
                <div>
                  <label>BG_BLUR</label>
                  <input id="BG_BLUR" class="field" type="number" value="45" min="0" step="1">
                </div>
                <div>
                  <label>BG_SCALE (%)</label>
                  <input id="BG_SCALE" class="field" type="number" value="115" min="100" step="1">
                </div>
              </div>
              <div class="hint">
                <span class="ms sm">auto_fix_high</span>
                <div data-i18n="blur_fix">Đã fix “viền mở rộng chưa blur”: nền blur được vẽ lớn hơn theo BG_BLUR nên
                  không
                  hở viền.</div>
              </div>
            </div>
          </details>

          <details class="section">
            <summary>
              <div class="sumLeft"><span class="ms">layers</span> <span data-i18n="glass_plate">Glass Plate sau
                  logo</span></div>
              <label class="switch" onclick="event.stopPropagation()" style="margin-left:auto; margin-right:8px;">
                <input type="checkbox" id="enablePlate">
                <span class="switchTrack"><span class="switchThumb"></span></span>
              </label>
              <span class="ms chev">expand_more</span>
            </summary>
            <div class="content">
              <div class="row" style="margin-top:10px">
                <div>
                  <label>PLATE_PADDING</label>
                  <input id="LOGO_PLATE_PADDING" class="field" type="number" value="14" min="0" step="1">
                </div>
                <div>
                  <label>PLATE_BLUR</label>
                  <input id="LOGO_PLATE_BLUR" class="field" type="number" value="18" min="0" step="1">
                </div>
              </div>
              <div class="row" style="margin-top:10px">
                <div>
                  <label>PLATE_OPACITY (%)</label>
                  <input id="LOGO_PLATE_OPACITY" class="field" type="number" value="40" min="0" max="100" step="1">
                </div>
                <div>
                  <label>PLATE_COLOR</label>
                  <select id="LOGO_PLATE_COLOR" class="field">
                    <option value="black" selected>black</option>
                    <option value="white">white</option>
                  </select>
                </div>
              </div>
            </div>
          </details>

        </div>
      </div>

      <!-- Result -->
      <div id="resultInner">
        <div class="card resultCard">
          <div class="cardHead">
            <div>
              <h2><span class="ms">gallery_thumbnail</span> <span data-i18n="out_title">Kết quả (Preview bên
                  dưới)</span>
              </h2>
              <div class="desc" data-i18n="out_desc">Chỉ hiện ảnh kết quả sau khi xử lý. Có tải lẻ / tải đã chọn / ZIP.
              </div>
            </div>
          </div>
          <div class="cardBody">
            <div class="preTop">
              <div style="display:flex; gap:10px; flex-wrap:wrap;">
                <span class="badge"><span class="ms sm">photo_library</span> <span data-i18n="count">Ảnh</span>: <b
                    id="kpiCountOut">0</b></span>
                <span class="badge"><span class="ms sm">verified</span> <span data-i18n="ready">Sẵn sàng</span>: <b
                    id="kpiReady">No</b></span>
              </div>

              <div class="actionRow">
                <button class="btn mini" id="btnSelectAll" disabled>
                  <span class="ms">select_all</span> <span data-i18n="select_all">Chọn tất</span>
                </button>
                <button class="btn mini" id="btnUnselectAll" disabled>
                  <span class="ms">deselect</span> <span data-i18n="unselect_all">Bỏ chọn</span>
                </button>
                <button class="btn mini" id="btnDownloadSelected" disabled>
                  <span class="ms">download</span> <span data-i18n="download_selected">Tải đã chọn</span>
                </button>
                <button class="btn mini" id="btnDownloadAll" disabled>
                  <span class="ms">archive</span> <span data-i18n="download_zip">Tải tất cả (ZIP)</span>
                </button>
              </div>
            </div>

            <div class="progress">
              <div class="bar" id="bar"></div>
            </div>
            <div class="mono" id="status"><span class="ms xs">info</span><span data-i18n="no_result">Chưa có kết quả.
                Bấm
                “Xử lý” để tạo ảnh.</span></div>

            <div style="height:10px"></div>
            <div class="thumbs" id="thumbsOut"></div>
          </div>
        </div>
      </div>
    </div>
    <!-- Spacer to prevent bottom bar from covering content -->
    <div style="height: 80px;" aria-hidden="true"></div>
  </div>

  <!-- Bottom bar (desktop only) -->
  <div class="bottomBar">
    <div class="small">
      <span class="ms sm">info</span>
      <span id="bottomHint" data-i18n="bottom_hint">
        Chọn ảnh → (tùy chọn) mở Cài đặt chọn watermark/logo → bấm Xử lý. Nếu không chọn sẽ dùng mặc định assets.
      </span>
    </div>
    <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;">

      <button class="btn danger" id="btnClear2" disabled>
        <span class="ms">delete</span> <span data-i18n="clear">Xoá</span>
      </button>
      <button class="btn primary" id="btnRun2" disabled>
        <span class="ms">auto_fix_high</span> <span data-i18n="process">Xử lý</span>
      </button>
    </div>
  </div>

  <!-- Mobile Dock -->
  <div class="mobileDock">
    <button class="dockBtn" id="dockUpload">
      <span class="ms">add_photo_alternate</span>
      <span class="dockLab" data-i18n="dock_upload">Upload</span>
    </button>

    <button class="dockBtn primary" id="dockRun">
      <span class="ms">auto_fix_high</span>
      <span class="dockLab" data-i18n="dock_process">Xử lý</span>
    </button>
  </div>


  </div>

  <!-- ✅ NEW: Confirm Folder Access (Professional modal before browser prompt) -->
  <div class="modal" id="confirmFolderModal" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true" aria-label="Xác nhận chọn thư mục">
      <div class="grabber"></div>
      <div class="sheetHead">
        <div class="ttl"><span class="ms">shield</span> <span data-i18n="confirm_title">Xác nhận truy cập thư mục</span>
        </div>
        <button class="btn mini" id="btnCloseConfirmFolder" type="button"><span class="ms">close</span></button>
      </div>

      <div class="sheetBody">
        <div class="section" style="margin-bottom:12px;">
          <div
            style="padding:12px 12px; border-bottom:1px solid var(--line); font-weight:900; display:flex; gap:10px; align-items:center;">
            <span class="ms">info</span> <span data-i18n="confirm_subtitle">Trình duyệt sẽ hỏi quyền đọc file</span>
          </div>
          <div style="padding:12px;">
            <div class="hint" style="margin-top:0;">
              <span class="ms sm">security</span>
              <div data-i18n="confirm_desc">
                Khi bạn chọn thư mục, Chrome/Edge sẽ hiện hộp thoại bảo mật để xác nhận cho phép website đọc các ảnh
                trong thư mục đó.
                Đây là cơ chế bắt buộc của trình duyệt và không thể thay thế/ẩn đi.
              </div>
            </div>

            <div class="hint">
              <span class="ms sm">verified_user</span>
              <div data-i18n="confirm_tip">
                Tip: Nếu bạn không muốn thấy bước này, hãy chọn ảnh lẻ (multi-file) hoặc kéo thả ảnh vào vùng Upload.
              </div>
            </div>
          </div>
        </div>

        <div class="stickyFooter">
          <div style="display:flex; gap:10px;">
            <button class="btn" id="btnCancelConfirmFolder" type="button" style="flex:1; justify-content:center;">
              <span class="ms">close</span> <span data-i18n="confirm_cancel">Huỷ</span>
            </button>
            <button class="btn primary" id="btnContinueConfirmFolder" type="button"
              style="flex:1; justify-content:center;">
              <span class="ms">folder_open</span> <span data-i18n="confirm_continue">Tiếp tục</span>
            </button>
          </div>
          <div class="hint" style="margin-top:10px">
            <span class="ms sm">keyboard</span>
            <div data-i18n="confirm_esc">Nhấn <b>ESC</b> để đóng.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Image Preview Modal (Lightbox + Interactive Logo) -->
  <div class="modal" id="previewModal" aria-hidden="true">
    <div class="previewOverlay" id="previewOverlay">
      <button class="previewClose" id="btnClosePreview" type="button">
        <span class="ms">close</span>
      </button>
      <div class="previewContainer" id="previewContainer">
        <img src="" alt="Preview" id="previewImg" class="previewImage" />
        <div class="previewLogo" id="previewLogo" style="display:none;">
          <img src="" alt="Logo" id="previewLogoImg" draggable="false" />
          <div class="resizeHandle"></div>
        </div>
        <div class="previewLogo previewWatermark" id="previewWatermark" style="display:none;">
          <img src="" alt="Watermark" id="previewWmImg" draggable="false" />
          <div class="resizeHandle"></div>
        </div>
      </div>
      <div class="previewCaption" id="previewCaption"></div>
      <button class="btn primary" id="btnConfirmPreview" type="button" style="margin-top: 10px;">
        <span class="ms">check</span> Xác nhận vị trí
      </button>
    </div>
  </div>

  <!-- JSZip (bắt buộc cho ZIP). FileSaver giữ lại nhưng đã có fallback Safari -->
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
  <!-- HEIC to JPG converter for iPhone photos -->
  <script src="https://cdn.jsdelivr.net/npm/heic2any@0.0.4/dist/heic2any.min.js"></script>

  <div class="snackbar" id="snack">
    <div class="msg" id="snackMsg"><span class="ms sm">info</span><span>…</span></div>
    <div class="x" id="snackClose"><span class="ms sm">close</span></div>
  </div>
  <!-- Main JS -->
  <script src="./assets/js/assets_b64.js"></script>
  <script src="./assets/js/main.js"></script>
</body>

</html>